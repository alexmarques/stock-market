CREATE TABLE ENTITY (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	NAME VARCHAR(250)
);

CREATE TABLE CURRENCY (
	ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	CODE CHAR(3)
);

CREATE TABLE STOCK (
	ID BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	ENTITY_ID BIGINT,
	OPERATION CHAR(1),
	AGREED_EXCHANGE DECIMAL,
	CURRENCY_ID INTEGER,
	INSTRUCTION_DATE DATE,
	SETTLEMENT_DATE DATE,
	UNITS INTEGER,
	PRICE_PER_UNIT DECIMAL,
	FOREIGN KEY (ENTITY_ID) REFERENCES ENTITY(ID),
	FOREIGN KEY (CURRENCY_ID) REFERENCES CURRENCY (ID)
);

